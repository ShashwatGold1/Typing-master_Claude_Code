<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; script-src 'self';">
    <title>Typing Master</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Custom Title Bar -->
        <div class="title-bar">
            <div class="title-bar-left">
                <img src="assets/icon.svg" alt="Typing Master" class="app-icon">
                <span class="app-title">Typing Master</span>
            </div>
            <div class="title-bar-right">
                <button class="title-bar-btn minimize-btn" id="minimize-btn">
                    <svg width="12" height="12" viewBox="0 0 12 12">
                        <path d="M2 6h8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                </button>
                <button class="title-bar-btn maximize-btn" id="maximize-btn">
                    <svg width="12" height="12" viewBox="0 0 12 12">
                        <path d="M3 3h6v6H3z" stroke="currentColor" stroke-width="1.5" fill="none"/>
                    </svg>
                </button>
                <button class="title-bar-btn close-btn" id="close-btn">
                    <svg width="12" height="12" viewBox="0 0 12 12">
                        <path d="M3 3l6 6M9 3l-6 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar Navigation -->
            <div class="sidebar">
                <div class="nav-section">
                    <div class="nav-section-title">LEARN</div>
                    <nav class="nav-menu">
                        <a href="#" class="nav-item active" data-page="quick-test">
                            <span class="nav-icon">‚ö°</span>
                            Quick Test
                        </a>
                        <a href="#" class="nav-item" data-page="lessons">
                            <span class="nav-icon">üìö</span>
                            Lessons
                        </a>
                        <a href="#" class="nav-item" data-page="games">
                            <span class="nav-icon">üéÆ</span>
                            Games
                        </a>
                    </nav>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">TRACK</div>
                    <nav class="nav-menu">
                        <a href="#" class="nav-item" data-page="statistics">
                            <span class="nav-icon">üìä</span>
                            Statistics
                        </a>
                        <a href="#" class="nav-item" data-page="progress">
                            <span class="nav-icon">üìà</span>
                            Progress
                        </a>
                    </nav>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">CUSTOMIZE</div>
                    <nav class="nav-menu">
                        <a href="#" class="nav-item" data-page="settings">
                            <span class="nav-icon">‚öôÔ∏è</span>
                            Settings
                        </a>
                        <a href="#" class="nav-item" data-page="profile">
                            <span class="nav-icon">üë§</span>
                            Profile
                        </a>
                    </nav>
                </div>
            </div>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Quick Test Page -->
                <div class="page active" id="quick-test-page">
                    <div class="page-header">
                        <h1>Quick Typing Test</h1>
                        <p>Test your typing speed and accuracy with random text</p>
                    </div>
                    
                    <div class="stats-container">
                        <div class="stat-card">
                            <div class="stat-value" id="wpm-value">0</div>
                            <div class="stat-label">WPM</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="accuracy-value">100%</div>
                            <div class="stat-label">ACCURACY</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="time-value">0</div>
                            <div class="stat-label">ELAPSED TIME</div>
                        </div>
                    </div>

                    <div class="typing-area">
                        <div class="text-display" id="text-display">
                            <span class="text-to-type">Cooking is both an art and a science. It involves understanding ingredients, mastering techniques, and creating delicious meals that nourish the body and bring joy to those who share them.</span>
                        </div>
                        <textarea class="typing-input" id="typing-input" placeholder="Start typing here..."></textarea>
                    </div>

                    <div class="controls">
                        <button class="btn btn-secondary" id="reset-btn">Reset</button>
                        <button class="btn btn-secondary" id="toggle-keyboard-btn">Toggle Keyboard</button>
                    </div>

                    <!-- Virtual Keyboard -->
                    <div class="virtual-keyboard-container" id="virtual-keyboard-container">
                        <div class="virtual-keyboard" id="virtual-keyboard">
                            <!-- Keyboard will be dynamically generated -->
                        </div>
                    </div>

                </div>

                <!-- Lessons Page -->
                <div class="page" id="lessons-page">
                    <div class="page-header">
                        <h1>Typing Lessons</h1>
                        <p>Learn to type with structured lessons</p>
                    </div>
                    
                    <!-- Lessons will be dynamically generated by JavaScript -->
                    <div class="lessons-grid" id="lessons-grid">
                        <!-- Lesson cards will be inserted here by the LessonManager -->
                    </div>
                </div>

                <!-- Games Page -->
                <div class="page" id="games-page">
                    <div class="page-header">
                        <h1>Typing Games</h1>
                        <p>Improve your skills with fun typing games</p>
                    </div>
                    <div class="games-grid">
                        <div class="game-card">
                            <h3>Word Race</h3>
                            <p>Race against the clock to type words as fast as possible</p>
                            <button class="btn btn-primary">Play Now</button>
                        </div>
                        <div class="game-card">
                            <h3>Typing Defense</h3>
                            <p>Defend your base by typing words to destroy incoming enemies</p>
                            <button class="btn btn-primary">Play Now</button>
                        </div>
                    </div>
                </div>

                <!-- Lesson Interface Page -->
                <div class="page" id="lesson-interface-page">
                    <div class="page-header">
                        <h1 id="lesson-title">Lesson</h1>
                        <p id="lesson-description">Complete this lesson to improve your typing skills</p>
                    </div>
                    
                    <div class="stats-container">
                        <div class="stat-card">
                            <div class="stat-value" id="lesson-wpm-value">0</div>
                            <div class="stat-label">WPM</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="lesson-accuracy-value">100%</div>
                            <div class="stat-label">ACCURACY</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="lesson-time-value">0</div>
                            <div class="stat-label">ELAPSED TIME</div>
                        </div>
                    </div>

                    <div class="typing-area">
                        <div class="text-display" id="lesson-text-display">
                            <span class="text-to-type" id="lesson-text-to-type">Ready to start lesson...</span>
                        </div>
                        <textarea class="typing-input" id="lesson-typing-input" placeholder="Start typing here..."></textarea>
                    </div>

                    <div class="controls">
                        <button class="btn btn-secondary" id="lesson-reset-btn">Reset</button>
                        <button class="btn btn-secondary" id="toggle-lesson-keyboard-btn">Toggle Keyboard</button>
                        <button class="btn btn-primary" id="back-to-lessons-btn">Back to Lessons</button>
                    </div>

                    <!-- Virtual Keyboard for Lessons -->
                    <div class="virtual-keyboard-container" id="lesson-virtual-keyboard-container">
                        <div class="virtual-keyboard" id="lesson-virtual-keyboard">
                            <!-- Keyboard will be dynamically generated -->
                        </div>
                    </div>

                </div>

                <!-- Statistics Page -->
                <div class="page" id="statistics-page">
                    <div class="page-header">
                        <h1>Statistics</h1>
                        <p>View your typing performance and statistics</p>
                    </div>
                    <div class="stats-overview">
                        <div class="stat-card large">
                            <div class="stat-value">45</div>
                            <div class="stat-label">Average WPM</div>
                        </div>
                        <div class="stat-card large">
                            <div class="stat-value">96%</div>
                            <div class="stat-label">Average Accuracy</div>
                        </div>
                        <div class="stat-card large">
                            <div class="stat-value">127</div>
                            <div class="stat-label">Tests Completed</div>
                        </div>
                    </div>
                </div>

                <!-- Progress Page -->
                <div class="page" id="progress-page">
                    <div class="page-header">
                        <h1>Progress</h1>
                        <p>Track your typing improvement over time</p>
                    </div>
                    <div class="progress-content">
                        <div class="progress-chart">
                            <h3>WPM Progress</h3>
                            <p>Chart showing typing speed improvement would go here</p>
                        </div>
                    </div>
                </div>

                <!-- Settings Page -->
                <div class="page" id="settings-page">
                    <div class="page-header">
                        <h1>Settings</h1>
                        <p>Customize your typing experience</p>
                    </div>
                    <div class="settings-content">
                        <div class="setting-group">
                            <h3>Appearance</h3>
                            <div class="setting-item">
                                <label>Theme</label>
                                <select>
                                    <option>Light</option>
                                    <option>Dark</option>
                                </select>
                            </div>
                        </div>
                        <div class="setting-group">
                            <h3>Typing</h3>
                            <div class="setting-item">
                                <label>Sound Effects</label>
                                <input type="checkbox" checked>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Profile Page -->
                <div class="page" id="profile-page">
                    <div class="page-header">
                        <h1>Profile</h1>
                        <p>Manage your typing profile and achievements</p>
                    </div>
                    <div class="profile-content">
                        <div class="profile-info">
                            <h3>Your Achievements</h3>
                            <div class="achievements">
                                <div class="achievement">üèÜ Speed Demon - 50+ WPM</div>
                                <div class="achievement">üéØ Accuracy Master - 95%+ Accuracy</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Popup Overlay -->
    <div class="popup-overlay" id="popup-overlay">
        <div class="popup" id="popup">
            <div class="popup-header">
                <h2 class="popup-title" id="popup-title">Title</h2>
                <button class="popup-close" id="popup-close">
                    <svg width="16" height="16" viewBox="0 0 16 16">
                        <path d="M4 4l8 8M12 4l-8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
            <div class="popup-content" id="popup-content">
                <p>Content goes here</p>
            </div>
            <div class="popup-footer" id="popup-footer">
                <button class="btn btn-secondary" id="popup-cancel">Cancel</button>
                <button class="btn btn-primary" id="popup-confirm">OK</button>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>